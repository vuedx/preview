{
  "private": true,
  "version": "0.2.4",
  "name": "preview",
  "publisher": "znck",
  "displayName": "Preview - VueDX",
  "main": "dist/extension.js",
  "icon": "logo.png",
  "buildConfig": {
    "useMain": false,
    "sources": {
      "src/index.ts": [
        {
          "format": "commonjs",
          "file": "dist/extension.js",
          "bundle": {
            "external": [
              "vscode"
            ]
          }
        }
      ]
    },
    "external": [
      "vscode"
    ]
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/znck/preview.git",
    "directory": "extension"
  },
  "files": [
    "dist",
    "logo.png"
  ],
  "activationEvents": [
    "onCommand:preview.show",
    "onCommand:preview.open",
    "onCommand:preview.stop",
    "onLanguage:vue"
  ],
  "contributes": {
    "commands": [
      {
        "command": "preview.show",
        "enablement": "resourceLangId == vue",
        "title": "Show preview",
        "category": "Preview",
        "icon": "$(open-preview)"
      },
      {
        "command": "preview.showSource",
        "enablement": "preview:isFocused",
        "title": "Show .vue file",
        "category": "Preview",
        "icon": "$(go-to-file)"
      },
      {
        "command": "preview.open",
        "enablement": "resourceLangId == vue || preview:isFocused",
        "title": "Open preview in browser",
        "category": "Preview",
        "icon": "$(browser)"
      },
      {
        "command": "preview.update",
        "enablement": "preview:isViteStarted",
        "title": "Update @vuedx/preview package",
        "category": "Preview",
        "icon": "$(arrow-up)"
      },
      {
        "command": "preview.stop",
        "enablement": "preview:isViteStarted",
        "title": "Stop preview server",
        "category": "Preview",
        "icon": "$(stop)"
      },
      {
        "command": "preview.refresh",
        "enablement": "preview:isFocused",
        "title": "Referh preview",
        "category": "Preview",
        "icon": "$(refresh)"
      }
    ],
    "keybindings": [
      {
        "command": "preview.refresh",
        "key": "ctrl+r",
        "mac": "cmd+r",
        "when": "preview:isFocused"
      }
    ],
    "menus": {
      "editor/title": [
        {
          "when": "resourceLangId == vue",
          "command": "preview.show",
          "group": "navigation"
        },
        {
          "when": "preview:isFocused",
          "command": "preview.showSource",
          "group": "navigation"
        },
        {
          "when": "preview:isFocused",
          "command": "preview.refresh",
          "group": "navigation"
        },
        {
          "when": "preview:isFocused || resourceLangId == vue",
          "command": "preview.open",
          "group": "z_commands"
        },
        {
          "when": "preview:isFocused && preview:isViteStarted",
          "command": "preview.stop",
          "group": "z_commands"
        }
      ]
    }
  },
  "engines": {
    "vscode": "^1.52.0"
  },
  "devDependencies": {
    "@types/node": "^14.14.22",
    "@types/node-fetch": "^2.5.8",
    "@types/vscode": "^1.52.0",
    "@vuedx/preview": "workspace:*",
    "get-port": "^5.1.1",
    "node-fetch": "^2.6.1",
    "vsce": "^1.84.0"
  },
  "scripts": {
    "prerelease": "npm run bundle",
    "release": "vsce publish -p ${VSCODE_MARKETPLACE_TOKEN} --packagePath ./preview.vsix",
    "prebundle": "node scripts/prepare",
    "bundle": "vsce package --out preview.vsix",
    "postbundle": "node scripts/revert"
  }
}
